
1  https://www.sbigeneral.in/portal/policy-  RENEW POLICY       Body/middle              Renew Your Policy
2                                                                Body/middle             Motor Policy
3                                                                                        Select Policy
4                                                                                         Two wheeler
5                                                                                          Four wheeler
6                                                                                          Health Policy
7                                                                                          Arogya Plus
8                                                                                          Arogya Premier
9                                                                                          Arogya Top up
10                                                                                          Critical illness
11                                                                                          Group Health Insurance SBI
12
                                                                                             Health Insuarance Policy Retail
13
14                                                                                           Hospital Daily Cash
15                                                                                           Individual Personal Accident
16                                                                                           PAI Renewal
17                                                                                           Become an Agent
18                                                                                             Intimate Claim
19                                                                                            Renew Policy
20
                       end of Renew Policy*****
       
                  start of   Products page   

21 https://www.sbigeneral.in/portal/product      Products        Body/top                    SBI General Products    
22                                                               Body/top                    We believe insurance was always meant to protect what one loves
23                                                                Body/top                    Prices That Canâ€™t Get Any Better
24                                                                Body/middle                 Products 
25                                                                                             Retail
26                                                                                            Corporate
27                                                                                              Rural
28  https://www.sbigeneral.in/portal/product                        Body/middle                Liability

29  https://www.sbigeneral.in/portal/product                        Body/middle            ovid-19 Insuarance
30                                                                                         Shagun-Gift an insurance
31                                                                                         Health
32                                                                                         Home
33                                                                                         Travel
34                                                                                          Motor
35  https://www.sbigeneral.in/portal/product                                                Personal Accident




36 https://www.sbigeneral.in/portal/product/retail  Products/retail  Body/middle                   Arogya Sanjeevani Policy, SBI General Insurance Company Limited
37                                                                   Boby/middle                   Arogya Premier Policy
38                                                                                                 Arogya Plus Policy
40                                                                                                 Arogya Top up Policy
41                                                                                                  Retail Health Insurance Policy  
42                                                                                                 Critical Illness Insurance Policy
43                                                                                                 Hospital Daily Cash Insurance Policy
44                                                                                                  Group Health Insurance - SBI
45                                                   Products/retail Boby/middle                     Loan Insurance Policy 


            corporate***************
 
46 https://www.sbigeneral.in/portal/product/corporate   Products/Corporate                            Miscellaneous
47                                                                                                    Fire
48                                                                                                    Marine
49                                                                                                    Packge
50                                                                                                     motor
51                                                                                                     Construction/Enginnering
52                                                                                                     Others
53                                                                                                     Money Insurance Policy
54                                                                                                     Plate Glass Insurance Policy
55 https://www.sbigeneral.in/portal/product/corporate   Products/corporate  Body/middle                 Burglary Insurance Policy
56 https://www.sbigeneral.in/portal/product/corporate    products/corporate  Body/middle                Motor Trade-Road Transit
57                                                                                                      Motor Trade-Road Risk
58                                                                                                      Motor Trade-Internal Risk
59                                                                                                      Group Personal Accident
60                                                                                                      Group Health Insurance Policy
61                                                                                                      Group Loan Insurance Policy
62                                                                                                      Arogya Sanjeevani Group Product
63                                                                                                      Standard Fire & Special Perils (SFSP ) Insurance Policy
64                                                                                                      Consequential Loss (Fire) Insurance Policy
65                                                                                                      Marine Cargo Insurance - Open Cover
66                                                                                                      Industrial All Risks Insurance Policy
67                                                                                                      Business Package Insurance Policy
68                                                                                                      Latent Defects Insurance Policy
69                                                                                                      Electronic Equipment Insurance (EEI)
70                                                                                                      Contractors All Risks (CAR) Insurance
71                                                                                                      Erection All Risks (EAR) Insurance
72                                                                                                      Contractors Plant & Machinery Insurance (CPM)
73                                                                                                      Machinery Breakdown Insurance (MB)
74                                                                                                      Boiler & Pressure Plant Insurance
75                                                                                                      Machinery Loss of Profit Insurance Policy
76                                                                                                      Sign Board Insurance Policy
77                                                                                                      Modified National Agriculture Insurance Scheme (MNAIS)
78                                                                                                      Trade Credit Insurance Policy
79                                                                                                      Aviation & Hull Package policy
80                                                                                                      SME Package Insurance Policy
81                                                                                                      Cellular Network Insurance policy
82                                                                                                      Advance Loss of Profit Policy
83                                                                                                      Baggage Insurance Policy
84                                                                                                      Portable Electronic Equipment Insurance Policy
85                                                                                                      Weather Insurance
86                                                                                                      Mega Risk Insurance Policy
87                                                                                                       Port Package Insurance Policy
88                                                                                                      Delay in Start Up (DSU) Insurance
89                                                                                                       All Risk Insurance Policy
90                                                                                                      Kidnap, Ransom and Extortion (KRE) Insurance
91                                                                                                      Fidelity Guarantee Insurance Policy
92 https://www.sbigeneral.in/portal/product/corporate  Products/Corporate                                Oil & Energy Risk Insurance                                                                                                   
                                                                                                   
                              Products/ Rural                                                                                                                                                                                                                                                                              
                                      ********************

93 https://www.sbigeneral.in/portal/product/rural      Products/rural      body/middle                 Agricultural Pump Set
94                                                                                                     Cattle Insurance
95                                                                                                     Micro Insurance Policy
96                                                                                                     Sheep and Goat Insurance
97                                                                                                     Pradhan Mantri Fasal Bima Yojana (PMFBY)
98                                                                                                     Gramin Samriddhi Bima 



                            ********************** Products/Liablity

99 https://www.sbigeneral.in/portal/product/liability  products/Liablity                               Directors & Officers Liability Insurance
100                                                                                                    Errors and Omission Liability Insurance 
101                                                                                                     Event Cancellation Insurance Policy
102                                                                                                     Broad Form Liability
103                                                                                                     Product Liability Insurance Policy 
104                                                                                                     Product Liability Insurance Policy
105                                                                                                     Clinical Trial (No Fault) Insurance
106                                                                                                     Employees Compensation Policy
107                                                                                                     Public Liability Insurance Policy
108                                                                                                     Commercial General Liability Insurance Policy
109                                                                                                     Cyber Defense Insurance
110https://www.sbigeneral.in/portal/product/liability                         Body/middle               Clinical Trial (Professional Liability) Insurance


************************ end of product page   *********************************************************************
   
                             Start of home page
                          ****************************************




111 https://www.sbigeneral.in/portal/       Home               Body/top                     Health
112                                                                                         Home
113                                                                                         Travel
114                                                                                         Motor
115                                                                                         Shagun
116                                                                                         Buy
117                                                                                         Renew
118                                                                                         Claim
119                                                                                         Select Gender
120                                                                                         Male
121                                                                                         Female
122                                                                                         residing 
123                                                                                         Select City
124                                                                                         Ahmedabad
125                                                                                         Bangalore
126                                                                                         Chennai
127                                                                                         Delhi
128                                                                                         Hyderabad
129                                                                                         Kolkata
130                                                                                         Mumbai
131                                                                                         Rest of India
132                                                                                         buying insurance for
133                                                                                          Select members
134                                                                                         Self
135                                                                                         Spouse
136                                                                                         child 1
137                                                  Body/top                               Child 2
138                                                  Body/middle                             Why SBI General
139                                                                                          We promise to support our customers in times of need and assist them to get back on their feet and to their business as quickly as possible
140                                                                                          Customers served till date
141                                                                                          SBI's network 
142                                                                                          Network Hospitals
143                                                                                          Claims handled worth over
144                                                                                          Locations across India
145                                                                                          Satellite Presence
146                                                                                          Our Claims Promise
147                                                                                          Blogs
148                                                                                          Latest News
149                                                                                          


function handle_custom_form() {
		if (isset($_POST['recaptcha_response']) && !empty($_POST['recaptcha_response'])) {
			// wp_send_json_error(array('message' => 'reCAPTCHA is required.'));
			$secretKey = '';
			$verifyResponse = file_get_contents('https://www.google.com/recaptcha/api/siteverify?secret='.$secretKey.'&response='.$_POST['recaptcha_response']);
            $response = json_decode($verifyResponse);
			// print_r($response);
			// die();
			// wp_send_json($response);
			// if($response->success == 1){
			// 	global $wpdb;
			// 	$table_name = $wpdb->prefix . 'custom_table';
			
			// 	$data = array(
			// 		'name' => sanitize_text_field($_POST['form_data']['name']),
			// 		'email' => sanitize_email($_POST['form_data']['email'])
			// 	);
			//     print_r($data);
			// 	die();
			// 	$wpdb->insert($table_name, $data);
			// 	wp_send_json($response);
			//  } 
			 wp_send_json($response);
		} 
		else{
			wp_send_json_error(array('message' => 'reCAPTCHA verification failed.'));
		}
	
		// $recaptcha_secret = '';
		// $recaptcha_response = sanitize_text_field($_POST['g-recaptcha-response']);
		// $response = wp_remote_post("https://www.google.com/recaptcha/api/siteverify", array(
		// 	'body' => array(
		// 		'secret' => $recaptcha_secret,
		// 		'response' => $recaptcha_response
		// 	)
		// ));
		// $response_body = wp_remote_retrieve_body($response);
		// $result = json_decode($response_body);
		
		// if (!$result->success) {
		// 	wp_send_json_error(array('message' => 'reCAPTCHA verification failed.'));
			
		// }
	  
		// // Process the form data
		// global $wpdb;
		// $table_name = $wpdb->prefix . 'custom_table';
	
		// $data = array(
		// 	'name' => sanitize_text_field($_POST['form_data']['name']),
		// 	'email' => sanitize_email($_POST['form_data']['email'])
		// );
	
		// $wpdb->insert($table_name, $data);
	wp_die();
		
	}
	add_action('wp_ajax_handle_custom_form', 'handle_custom_form');
	add_action('wp_ajax_nopriv_handle_custom_form', 'handle_custom_form');

                                                                                                                                         <?php /*Template Name: Layout: Test-Page*/?>
<?php get_header(); ?> 
<h1>Test Page</h1>
<form id="custom-form">
        <input type="text" name="name" placeholder="Your Name" required />
        <input type="email" name="email" placeholder="Your Email" required />
        <div class="g-recaptcha" data-sitekey="6LcZuxsqAAAAAJBKRTKLMXuLd8dTojV_GBRtXT9g"></div>
        <button type="submit">Submit</button>
        <div id="form-message"></div>
    </form>
<?php get_footer(); ?> 

jQuery(document).ready(function($) {
    $('#custom-form').submit(function(event) {
        event.preventDefault();

        var formData = $(this).serialize();
        var recaptchaResponse = grecaptcha.getResponse();
        console.log(recaptchaResponse);
        if (recaptchaResponse.length === 0) {
            $('#form-message').text('Please complete the reCAPTCHA.');
            return;
        }

        $.ajax({
            type: 'POST',
            url: ajaxadmin.ajax_url,
            data: {
                action: 'handle_custom_form',
                form_data: formData,
                recaptcha_response: recaptchaResponse
            },
            success: function(response) {
                console.log('AJAX response:', response); // Log the response
                if (response.success) {
                    $('#custom-form')[0].reset();
                     grecaptcha.reset();
                    $('#form-message').text('Form submitted successfully.');
                } else {
                    // console.log(response);
                    $('#form-message').text('Form submission failed12234.');
                }
            }
        });
    });
});
                                                                                                 
************************Latest Query ************************ 
<?php
                // $args1 = array(
                //     'post_type' => 'services',
                //     'posts_per_page' => -1,
                //     'post_status' => 'publish',
                //     'order' => 'DESC',
                //     'tax_query' => array(
                //         'relation' => 'AND', 
                //         array(
                //             'taxonomy' => 'service_type', 
                //             'field'    => 'slug',
                //             'terms'    => 'cattwo', 
                //         ),
                //         array(
                //             'taxonomy' => 'service_tag', 
                //             'field'    => 'slug',
                //             'terms'    => 'tagtwo', 
                //         ),
                //     ),
                //     'meta_query' => array(
                //         array(
                //             'key'     => 'service_status', 
                //             'value'   => 'open', 
                //             'compare' => '=', 
                //         ),
                //     ),
                // );
                // $services1 = new WP_Query($args1);
                // echo "<pre>";
                // print_r($services1);
                // echo "</pre>";
                // die();
                // Initial query arguments
                $args1 = array(
                    'post_type' => 'services',
                    'posts_per_page' => -1,
                    'post_status' => 'publish',
                    'order' => 'DESC',
                    'tax_query' => array(
                        'relation' => 'AND',
                        array(
                            'taxonomy' => 'service_type',
                            'field'    => 'slug',
                            'terms'    => 'cattwo',
                        ),
                        array(
                            'taxonomy' => 'service_tag',
                            'field'    => 'slug',
                            'terms'    => 'tagtwo',
                        ),
                    ),
                    'meta_query' => array(
                        array(
                            'key'     => 'service_status',
                            'value'   => 'open',
                            'compare' => '=',
                        ),
                    ),
                );

                // Run the first query
                $query1 = new WP_Query($args1);

                // Check if there are posts for the first query
                if ($query1->have_posts()) {
                    // Posts exist with the initial criteria
                    $posts = $query1->posts;
                } else {
                    // No posts found with the initial criteria, so run the fallback query
                    $args2 = array(
                        'post_type' => 'services',
                        'posts_per_page' => -1,
                        'post_status' => 'publish',
                        'order' => 'DESC',
                        'tax_query' => array(
                            array(
                                'taxonomy' => 'service_type',
                                'field'    => 'slug',
                                'terms'    => 'cattwo',
                            ),
                        ),
                        'meta_query' => array(
                            array(
                                'key'     => 'service_status',
                                'value'   => 'open',
                                'compare' => '=',
                            ),
                        ),
                    );

                    // Run the fallback query
                    $query2 = new WP_Query($args2);
                    $posts = $query2->posts;
                }

                // Process the posts (if any)
                foreach ($posts as $post) {
                    // Output or process each post
                    setup_postdata($post);
                    // Example: Output the title
                    echo '<h2>' . get_the_title($post->ID) . '</h2>';
                }
                wp_reset_postdata();
                ?>
************************Latest Query ************************
*************** Sbolg page **************
<?php /*Template Name: Layout: Blog*/ ?>
<?php get_header(); ?>

<?php
$searchdata = '';
if ($_GET['title'] != "") {
    $searchdata = $_GET['title'];
}
?>
<div class="breadcrumb-area text-center shadow dark text-light bg-cover" style="background-image: url(<?php echo get_field('inner_banner_image'); ?>);">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 offset-lg-2">
                <h1><?php echo get_field('inner_banner_heading'); ?></h1>
                <ul class="breadcrumb">
                    <li>
                        <a href="<?php echo home_url(); ?>"><i class="fas fa-home"></i> Home</a>
                    </li>
                    <li class="active"><?php echo get_field('inner_banner_heading'); ?></li>
                </ul>
            </div>
        </div>
    </div>
</div>




<div class="blog-area right-sidebar full-blog default-padding">
    <div class="container">
        <div class="blog-items">
            <div class="row">
                <div class="blog-content col-lg-8 col-md-12">
                    <div class="blog-item-box">
                        <!-- Single Item -->
                        <?php
                        // $args = array(
                        //   'post_type' => 'post',
                        //   'posts_per_page' => -1,
                        //   'post_status' => 'publish',
                        //   'order' => 'DESC',
                        // );
                        $args = array(
                            'post_type' => 'post',
                            'post_status' => 'publish',
                            's' => $searchdata
                        );
                        $postdata = new WP_Query($args);
                        if ($postdata->have_posts()) {
                            while ($postdata->have_posts()) {
                                $postdata->the_post();
                                $postdata_image = wp_get_attachment_image_src(get_post_thumbnail_id($postdata->ID), 'full');
                        ?>
                                <div class="single-item wow fadeInUp" data-wow-delay=".3s">
                                    <div class="item">
                                        <div class="thumb">
                                            <div class="image-box">
                                                <a href="">
                                                    <img src="<?php echo $postdata_image[0]; ?>" alt="Thumb" class="img-fluid" />
                                                </a>
                                            </div>
                                            <div class="date"><?php echo get_field('date', $postdata->ID); ?></div>
                                        </div>
                                        <div class="info">
                                            <div class="meta">
                                                <ul>
                                                    <li>
                                                        <img src="<?php echo get_field('author_icon', $postdata->ID); ?>" alt="Author" />
                                                        <span>By <?php echo get_field('author_name', $postdata->ID); ?></span>
                                                        <a href="<?php echo get_the_permalink($postdata->ID); ?>"></a>
                                                    </li>
                                                    <li>
                                                        <span>In <?php echo get_field('agency_name', $postdata->ID); ?></span>
                                                        <a href="<?php echo get_the_permalink($postdata->ID); ?>"></a>
                                                    </li>
                                                </ul>
                                            </div>
                                            <h1>
                                                <a href="<?php echo get_the_permalink($postdata->ID); ?>"><?php echo get_the_title(); ?></a>
                                            </h1>
                                            <p>
                                                <?php echo get_the_excerpt($postdata->ID); ?>
                                            </p>
                                            <a class="btn circle btn-theme-border btn-sm" href="<?php echo get_the_permalink($postdata->ID); ?>">Read More</a>
                                            <button class="compare-button btn circle btn-theme-border btn-sm" data-post-id="<?php echo get_the_ID(); ?>">
                                                Compare
                                            </button>
                                        </div>
                                    </div>
                                </div>
                        <?php }
                        }

                        wp_reset_postdata(); ?>

                    </div>
                </div>
               
                <!-- Start Sidebar -->
                <div class="sidebar col-lg-4 col-md-12">
                    <aside class="wow fadeInUp" data-wow-delay=".5s">
                        <div class="sidebar-item search">
                            <div class="sidebar-info">
                                <form id="" class="searchform" name="" method="get">
                                    <input type="text" value="<?php echo $searchdata; ?>" name="title" class="form-control" required placeholder="Search for posts......" />
                                    <button type="submit"><i class="fas fa-search"></i></button>
                                    <!-- <input type="hidden" name="blogpagesearch" /> -->
                                </form>
                            </div>
                        </div>
                        <div class="sidebar-item recent-post">
                            <div class="title">
                                <h4>Recent Post</h4>
                            </div>
                            <ul>
                                <?php
                                $args = array(
                                    'post_type' => 'post',
                                    'posts_per_page' => 3,
                                    'post_status' => 'publish',
                                    'order' => 'DESC',
                                );
                                $postdata = new WP_Query($args);
                                if ($postdata->have_posts()) {
                                    while ($postdata->have_posts()) {
                                        $postdata->the_post();
                                        $postdata_image = wp_get_attachment_image_src(get_post_thumbnail_id($postdata->ID), 'full');
                                ?>
                                        <li>
                                            <div class="thumb">
                                                <a href="<?php echo get_the_permalink($postdata->ID); ?>">
                                                    <img src="<?php echo $postdata_image[0]; ?>" alt="Thumb" />
                                                </a>
                                            </div>
                                            <div class="info">
                                                <div class="meta-title">
                                                    <span class="post-date"><?php echo get_field('date', $postdata->ID); ?></span>
                                                </div>
                                                <a href="<?php echo get_the_permalink($postdata->ID); ?>"><?php echo get_the_title(); ?></a>
                                            </div>
                                        </li>
                                <?php }
                                }

                                wp_reset_postdata(); ?>

                            </ul>
                        </div>

                        <div class="sidebar-item social-sidebar">
                            <div class="title">
                                <h4>follow us</h4>
                            </div>
                            <div class="sidebar-info">
                                <ul>
                                    <li class="facebook">
                                        <a href="<?php echo get_theme_value('site_facebook_link'); ?>" target="_blank">
                                            <i class="fab fa-facebook-f"></i>
                                        </a>
                                    </li>
                                    <li class="twitter">
                                        <a href="<?php echo get_theme_value('site_twitter_link'); ?>" target="_blank">
                                            <i class="fab fa-twitter"></i>
                                        </a>
                                    </li>
                                    <li class="pinterest">
                                        <a href="<?php echo get_theme_value('site_pinterest_link'); ?>" target="_blank">
                                            <i class="fab fa-pinterest"></i>
                                        </a>
                                    </li>
                                    <li class="linkedin">
                                        <a href="<?php echo get_theme_value('site_linkedin_link'); ?>" target="_blank">
                                            <i class="fab fa-linkedin-in"></i>
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </aside>
                </div>
                <!-- End Start Sidebar -->
            </div>
            <button id="compare-selected-button" disabled>Compare Selected</button>
        </div>
    </div>
</div>
<?php get_footer(); ?>
<script>
// Array to hold selected post IDs
let selectedPosts = [];

// Handle compare button click
document.querySelectorAll('.compare-button').forEach(button => {
    button.addEventListener('click', function() {
        const postId = this.getAttribute('data-post-id');
        
        // Add or remove the post ID from the selected posts array
        if (!selectedPosts.includes(postId)) {
            selectedPosts.push(postId);
            this.textContent = 'Remove from Compare';  // Change button text after adding
        } else {
            selectedPosts = selectedPosts.filter(id => id !== postId);
            this.textContent = 'Compare';  // Revert button text
        }

        // Enable or disable the "Compare Selected" button based on selection
        document.getElementById('compare-selected-button').disabled = selectedPosts.length === 0;
    });
});

// Handle compare selected button click
document.getElementById('compare-selected-button').addEventListener('click', function() {
    if (selectedPosts.length > 0) {
        // Redirect to the compare page with selected post IDs
        const url = "<?php echo get_permalink(get_page_by_path('compare')); ?>";
        window.location.href = url + '?post_ids[]=' + selectedPosts.join('&post_ids[]=');
    }
});
</script>
******* blog page ************** 

compare page 
*****
<?php /*Template Name: Layout: Compare*/ ?>
<?php get_header('');
if (isset($_GET['post_ids'])) {
    $post_ids = array_map('intval', $_GET['post_ids']); // Sanitize the post IDs
} else {
    $post_ids = [];
}
echo "<pre>";
print_r($post_ids);
echo "</pre>";
?>
<?php get_footer(); ?>
******
  
custom 2fA 
*******************
function custom_2fa_authentication($user, $username, $password) {
	if(is_wp_error($user)) {
		return $user;
	}

	if(!in_array('administrator', $user->roles) && !in_array('editor', $user->roles)) {
		return $user;
	}

	if (!isset($_POST['2fa_code'])) {
        $code = rand(100000, 999999);
        
        update_user_meta($user->ID, '2fa_code', $code);

        $subject = 'Two-factor Authentication Code';
        $message = "Your two-factor login code is: $code";

        wp_mail($user->user_email, $subject, $message);

        $_SESSION['2fa_user_id'] = $user->ID;

        wp_redirect(site_url('/2fa-verification'));
        exit;
    }

	return $user;
}

add_filter('authenticate', 'custom_2fa_authentication', 30, 3);


// Create the 2FA Code Verification Page

function handle_2fa_verification() {
    if (is_page('2fa-verification')) {
        if (isset($_POST['2fa_code'])) {
            if (isset($_SESSION['2fa_user_id'])) {
                $user_id = $_SESSION['2fa_user_id'];
                $saved_code = get_user_meta($user_id, '2fa_code', true);
                $entered_code = sanitize_text_field($_POST['2fa_code']);

                if ($entered_code === $saved_code) {
                    // Clear OTP and session
                    delete_user_meta($user_id, '2fa_code');
                    unset($_SESSION['2fa_user_id']);

                    // Authenticate user
                    wp_set_current_user($user_id);
                    wp_set_auth_cookie($user_id);

                    // Redirect to the dashboard
                    wp_redirect(admin_url());
                    exit;
                } else {
                    echo '<p>Incorrect 2FA code. Please try again.</p>';
                }
            }
        }

        // Render the 2FA verification form
        get_header();

        echo '<style>
            .two-factor-auth-container {
                padding-top: 100px;
                margin: 0 auto;
            }
            .two-factor-auth-form {
                background-color: #f9f9f9;
                padding: 30px;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
                width: 100%;
                max-width: 400px;
                text-align: center;
            }
            .two-factor-auth-form h2 {
                margin-bottom: 20px;
            }
            .two-factor-auth-form .button {
                margin-top: 15px;
            }
        </style>';

        echo '<div class="two-factor-auth-container">';
        echo '<div class="two-factor-auth-form">';
        echo '<h2>Two-Factor Authentication</h2>';
        echo '<form method="POST">';
        echo '<p>Please enter the 2FA code that we sent to you by email:</p>';
        echo '<input type="text" class="input" name="2fa_code" required />';
        echo '<input type="submit" class="button button-primary button-large" value="Sign in" />';
        echo '</form>';
        echo '</div>';
        echo '</div>';

        get_footer();
        exit;
    }
}

  add_action('template_redirect', 'handle_2fa_verification');

function start_custom_session() {
    if (!session_id()) {
        session_start();
    }
}
add_action('init', 'start_custom_session');
********************************************custom 2fA********************
                                                                                                                                                                            
                                                                                        
